<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index</title>
    <link rel="shortcut icon" href="#">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous">
    </script>
</head>
<body>
    <h1>index</h1>
    <button><a href="/signup">회원가입</a></button>
    <button><a href="/login">로그인</a></button>
    <button id="logoutButton">로그아웃</button>
    <button><a href="user/withdraw">회원탈퇴</a></button>
    <button><a href="user/updatepw">비밀번호 변경</a></button>
    <button><a href="user/updatename">이름 변경</a></button>
    <button><a href="user/myInfo">내 정보 조회</a></button>
    <button><a href="user/list">회원 목록</a></button>
    <button><a href="user/updateAuth">권한 변경(ADMIN)</a></button>
    <br>
    <button><a href="board/save">게시글 저장</a></button>
    <button><a href="board/paging">게시글 목록</a></button>
    <br>
    <button><a href="chat/rooms">채팅 목록</a></button>

    <script th:inline="javascript">
        $("#logoutButton").click(function() {
            $.ajax({
                url: '/signout',
                method: 'POST',
                success: function(response) {
                    // 필요한 경우, 로그인 페이지나 메인 페이지로 리다이렉트
                    alert("로그아웃 성공")
                    console.log(response)
                    location.reload(); // index로 보내기
                },
                error: function(error) {
                    alert("로그아웃 실패: " + error.responseText);
                }
            });
        });
    </script>
</body>
</html>